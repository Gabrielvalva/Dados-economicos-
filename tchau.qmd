---
title: "**Evolução da Área Agrícola por Habitante nos Países**"
format: html
editor: visual
---

```{r}
#| label: load-packages
#| include: false

library(WDI)
library(tidyverse)
library(ggplot2)
library(gganimate)
library(dplyr)
library(scales)

areasagricolas <- WDI(country = 'all',
indicator = 'AG.LND.AGRI.K2')
top10_paises <- c("RU", "CA", "CN", "US", "BR", "AU", "IN", "AR", "KZ", "DZ")
areasagricolas_filtrado <- areasagricolas %>%
  filter(iso2c %in% top10_paises, year >= 1996, year <= 2020)


```

```{r}
#| label: oi
#| include: false


```

## Introdução

A área de terras agrícolas corresponde à totalidade das terras utilizadas para fins agropecuários, englobando terras aráveis, culturas permanentes e pastagens permanentes. Trata-se de um indicador estratégico para avaliar a ocupação do solo e a capacidade produtiva de um país. Neste estudo, analisamos a evolução histórica das áreas agrícolas dos principais países em extensão territorial voltada à agricultura, com base em dados oficiais do Banco Mundial, cobrindo o período de 1996 a 2020.

## Objetivo

O objetivo deste trabalho é analisar a trajetória das áreas agrícolas ao longo do tempo, identificando padrões de crescimento, redução ou estabilidade nos diferentes países. Além disso, busca-se comparar as nações com as maiores extensões agrícolas no ano mais recente da série histórica, destacando tendências globais e possíveis implicações econômicas e ambientais.

## Evolução da Área de Terra Agrícola (1996–2020)

O gráfico animado apresenta uma linha do tempo da área agrícola dos 10 maiores países entre 1996 e 2020, permitindo observar as mudanças anuais na extensão de terras utilizadas para a agricultura. Ao longo desses 25 anos, é visível a manutenção de uma estrutura global na qual países como China, Índia, Estados Unidos e Brasil permanecem no topo do ranking, com destaque para a China e os Estados Unidos, que se sobressaem com vastas áreas agrícolas. A Índia e o Brasil também mostram um crescimento expressivo, reflexo da expansão das fronteiras agrícolas e do fortalecimento do agronegócio. A dinâmica observada é influenciada por fatores como políticas agrícolas, crescimento populacional e demanda global por alimentos. Além desses, países como Rússia e Austrália também ocupam posições importantes ao longo do tempo. A animação destaca não apenas a dimensão física das áreas utilizadas, mas também a dinâmica e as principais tendências globais no uso da terra voltado à produção agrícola.

```{r}
#| label: grafico-painel
#| warning: false
#| echo: false

# Filtrar dados para 1996–2020
areasagricolas_filtrado <- areasagricolas_filtrado %>%
  filter(year >= 1996, year <= 2020, !is.na(AG.LND.AGRI.K2)) %>%
  arrange(year, desc(AG.LND.AGRI.K2))

# Criar gráfico animado de barras para 1996–2020
 ggplot(areasagricolas_filtrado,
                             aes(x = reorder(country, AG.LND.AGRI.K2),
                                 y = AG.LND.AGRI.K2,
                                 fill = country)) +
  geom_col(show.legend = FALSE) +
  coord_flip() +
  labs(
    title = "Área Agrícola por País (1996–2020)",
    subtitle = "Ano: {closest_state}",
    x = "País",
    y = "Área Agrícola (km²)"
  ) +
  scale_y_continuous(labels = comma) +
  theme_minimal(base_size = 14) +
  transition_states(year, transition_length = 2, state_length = 1) +
  ease_aes("cubic-in-out")

```

## 

## Evolução da Área de Terra Agrícola (2015–2020)

Este gráfico mostra a evolução da área agrícola dos 10 maiores países entre os anos de 2015 e 2020. É possível observar que países como Índia, China, Estados Unidos e Brasil dominam em termos de extensão de terras destinadas à agricultura. A animação evidencia pequenas variações entre os anos, que refletem mudanças no uso do solo, políticas agrícolas e flutuações na produção agropecuária. Países com territórios amplos tendem a liderar o ranking, embora o uso da terra não esteja necessariamente ligado à eficiência produtiva. Esse recorte mais recente mostra uma certa estabilidade nos primeiros colocados, com destaque para o crescimento gradual do uso agrícola no Brasil.

```{r}
#| label: grafico-corte
#| warning: false
#| echo: false

# Filtrar dados apenas para 2015–2020
areasagricolas_2015_2020 <- areasagricolas_filtrado %>%
  filter(year >= 2015, year <= 2020, !is.na(AG.LND.AGRI.K2)) %>%
  arrange(year, desc(AG.LND.AGRI.K2))

# Criar gráfico animado de barras para 2015–2020
 ggplot(areasagricolas_2015_2020,
                            aes(x = reorder(country, AG.LND.AGRI.K2),
                                y = AG.LND.AGRI.K2,
                                fill = country)) +
  geom_col(show.legend = FALSE) +
  coord_flip() +
  labs(
    title = "Área Agrícola por País (2015–2020)",
    subtitle = "Ano: {closest_state}",
    x = "País",
    y = "Área Agrícola (km²)"
  ) +
  scale_y_continuous(labels = comma) +
  theme_minimal(base_size = 14) +
  transition_states(year, transition_length = 2, state_length = 1) +
  ease_aes("cubic-in-out")

```

## Área de Terra Agrícola no Brasil (1996–2020)

Este gráfico mostra a trajetória da área agrícola no Brasil entre 1996 e 2020. Observa-se um crescimento constante ao longo dos anos, com destaque para períodos de expansão mais acentuada, especialmente na segunda metade da década de 2000. Esse crescimento é impulsionado principalmente pelo avanço do agronegócio, da soja e da pecuária, especialmente nas regiões Centro-Oeste e Norte. A tendência de aumento na utilização de terras para fins agrícolas reflete o papel cada vez mais central que o setor rural desempenha na economia brasileira. No entanto, esse avanço também levanta preocupações sobre sustentabilidade ambiental e o uso responsável dos recursos naturais.

```{r}
#| label: grafico-brasil
#| warning: false
#| echo: false

# Filtrar dados do Brasil entre 1996 e 2020
brasil_agricola <- areasagricolas_filtrado %>%
  filter(country == "Brazil", year >= 1996, year <= 2020)

# Criar gráfico de série temporal
graf_brasil <- ggplot(brasil_agricola, aes(x = year, y = AG.LND.AGRI.K2)) +
  geom_line(color = "#2E8B57", size = 1.2) +
  geom_point(color = "#2E8B57", size = 2) +
  scale_y_continuous(labels = comma) +
  labs(
    title = "Evolução da Área Agrícola no Brasil (1996–2020)",
    x = "Ano",
    y = "Área Agrícola (km²)"
  ) +
  theme_minimal(base_size = 14)

# Exibir gráfico
print(graf_brasil)
```
